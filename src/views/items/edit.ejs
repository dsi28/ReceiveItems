<% include ../partials/header.ejs%>
<div class='container default-item-top-margin'>
    <h1 class='center-text-item'>Edit Item</h1>
    <div class='row'>
        <div class='form-setup'>
            <form method='POST' action='/batches/<%=batch.id%>/items/<%=item.id%>?_method=PUT' enctype='multipart/form-data'>
                <div class='form-group'>
                    <label for='erpId'>Item ERP ID</label>
                    <input class='form-control' type='text' name='item[erpId]' id='erpId' value='<%=item.erpId%>' required>
                </div>
                <div class='form-group'>
                    <label for='qty'>Quantity Recieved</label>
                    <input class='form-control'  type='text' name='item[addQuantity]' id='qty' value='<%=item.addQuantity%>'>
                </div> 
                <div class='form-group'>
                    <label for='imageFile'>Image</label>
                    <div class="custom-file" id='imageFile'>
                        <input type="file" name='image' class="custom-file-input" id="customFile" accept='images/*'>
                        <label class="custom-file-label" for="customFile"><%=item.imageDisplay%></label>
                    </div>
                </div> 
                <button class='btn btn-lg btn-primary btn-block' type='submit'>Update</button>
            </form>
            <a href='javascript:history.back()'>Back!</a>
        </div>
    </div>
</div>
<script>
$(".custom-file-input").on("change", function() {
  var fileName = $(this).val().split("\\").pop();
  $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
});
</script>
<% include ../partials/footer.ejs%>